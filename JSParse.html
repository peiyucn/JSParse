<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSParse Example</title>
    <script src="JSParse.js"></script>
</head>
<body>

<div id="parseTime">

</div>

<script>
    // 调用示例
    var exp = "testFunc(testFunc(a+b,b),b) + 5 > test";

    var testInput = new Object();
    testInput["a"] = 1;
    testInput["b"] = 2;
    testInput["test"] = 2;

    console.log("*******单次运算*******");
    var calcTree = JSParser.build(exp);
    var result1 = calcTree.calc(true, testInput);
    console.log("表达式：" + exp);
    console.log("结果：" + result1);

    console.log("*******多次运算*******");
    var start = Date.now();
    for (var i = 0; i < 10000; i++) {
        var result2 = calcTree.calc(true, testInput);
    }
    console.log("表达式：" + calcTree.toString());
    console.log("结果：" + result2);
    console.log("已运行次数：" + i + "次");

    var useTime = Date.now() - start;

    console.log("总使用时间：" + useTime.toString() + "毫秒");

    console.log(document.getElementById("parseTime"));

    document.getElementById("parseTime").innerHTML = useTime.toString();

</script>

</body>
</html>